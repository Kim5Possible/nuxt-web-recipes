import{_ as w}from"./Dogm_0aX.js";import{_ as y}from"./D8fDm-yp.js";import{u as k,m as M,s as T,r as b,v as C,f as I,c as _,a as g,t as x,p as l,F as N,q as B,o as m,b as F,w as $,x as q,y as E}from"./DMCOXjUz.js";import{u as S}from"./-1oF3iSi.js";const V={class:"container mb-10"},j={class:"title"},A={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10"},L={class:"text-center font-bold text-xl mb-2"},H={__name:"[categoryType]",async setup(R){let r,d;const{categoryType:n}=k().params,{data:u}=([r,d]=M(()=>S("https://dummyjson.com/recipes?select=mealType,tags,image","$F43j2hUmAw")),r=await r,d(),r),p=T(()=>{const s=n==="Meals"?"mealType":"tags",t=u.value.recipes.flatMap(c=>c[s]);return[...new Set(t)]}),o=b(new Map),f=()=>{o.value.clear();const s=new Map;u.value.recipes.forEach(t=>{s.set(t.image,(s.get(t.image)||0)+1)}),p.value.forEach(t=>{const c=u.value.recipes.filter(a=>n==="Meals"?a.mealType.includes(t):a.tags.includes(t)),i=new Set(c.map(a=>a.image));let e=null,h=1/0;for(const a of i){const v=s.get(a);v<h&&!o.value.has(a)&&(h=v,e=a)}e?(o.value.set(t,e),s.set(e,s.get(e)+1)):o.value.set(t,i.values().next().value)})};return C(f),I(()=>n,f),(s,t)=>{const c=w,i=y;return m(),_("section",V,[g("h1",j,x(l(n)),1),g("div",A,[(m(!0),_(N,null,B(l(p),e=>(m(),_("div",{key:e},[F(i,{to:`/categories/${l(n)}/${e}`},{default:$(()=>[l(o).get(e)?(m(),q(c,{key:0,src:l(o).get(e),alt:e,class:"w-[70%] mx-auto rounded-full mb-4"},null,8,["src","alt"])):E("",!0),g("h2",L,x(e),1)]),_:2},1032,["to"])]))),128))])])}}};export{H as default};
